{"ast":null,"code":"import _objectSpread from\"/Users/pirate/bootcamp/letsgoparty/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/pirate/bootcamp/letsgoparty/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/pirate/bootcamp/letsgoparty/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/pirate/bootcamp/letsgoparty/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Card from\"../cards/Card\";import SearchButtons from\"../searchbuttons/SearchButtons\";import PageNumbers from\"../pagenumbers/PageNumbers\";import fetch from\"node-fetch\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var API_BASE_URL=\"\";var SearchBar=function SearchBar(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showComponents=_useState6[0],setShowComponents=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),filter=_useState8[0],setFilter=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),pageNumber=_useState10[0],setPageNumber=_useState10[1];var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(query,filter,pageNumber){var url,headers,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"\".concat(API_BASE_URL,\"/search?q=\").concat(query,\"&engine=google_events&htichips=\").concat(filter,\"&start=\").concat((pageNumber-1)*10,\"&source=nodejs&output=json&api_key=348e8db09351ac50bd0d138aa02fa794c792d94070d5fc3a628ea00c94025b64\");headers={\"Content-Type\":\"application/json\",Authorization:\"Bearer 348e8db09351ac50bd0d138aa02fa794c792d94070d5fc3a628ea00c94025b64\",Accept:\"application/json\"};_context.next=4;return fetch(url,{headers:headers});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;setResults(data.events_results);setShowComponents(true);case 10:case\"end\":return _context.stop();}},_callee);}));return function search(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var handleInputChange=function handleInputChange(event){setQuery(event.target.value);};var handleKeyDown=function handleKeyDown(event){if(event.key===\"Enter\"){search(query,filter,pageNumber);}};var handleButtonClick=function handleButtonClick(filter){setFilter(filter);setPageNumber(1);search(query,filter,1);};var handlePageClick=function handlePageClick(page){setPageNumber(page);search(query,filter,page);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center border-b border-b-2 border-cyan-950 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none\",type:\"text\",placeholder:\"Search Events, Clubs, Raves & much more!\",\"aria-label\":\"Search\",id:\"search-button\",value:query,onChange:handleInputChange,onKeyDown:handleKeyDown}),/*#__PURE__*/_jsx(\"button\",{className:\"flex-shrink-0 bg-cyan-950 hover:bg-cyan-800 border-cyan-950 hover:border-cyan-800 text-sm border-4 text-white py-1 px-2 rounded-xl focus:outline-none focus:shadow-outline\",type:\"button\",onClick:function onClick(){return search(query,filter,pageNumber);},children:/*#__PURE__*/_jsx(\"svg\",{fill:\"none\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",viewBox:\"0 0 24 24\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"})})})]}),showComponents&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SearchButtons,{setFilter:handleButtonClick}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap justify-center\",children:Array.isArray(results)&&results.map(function(result){return/*#__PURE__*/_jsx(Card,_objectSpread({},result),result.id);})}),/*#__PURE__*/_jsx(PageNumbers,{query:query,setResults:setResults,handlePageClick:handlePageClick})]})]});};export default SearchBar;","map":{"version":3,"names":["React","useState","Card","SearchButtons","PageNumbers","fetch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","SearchBar","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","results","setResults","_useState5","_useState6","showComponents","setShowComponents","_useState7","_useState8","filter","setFilter","_useState9","_useState10","pageNumber","setPageNumber","search","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","headers","response","data","wrap","_callee$","_context","prev","next","concat","Authorization","Accept","sent","json","events_results","stop","_x","_x2","_x3","apply","arguments","handleInputChange","event","target","value","handleKeyDown","key","handleButtonClick","handlePageClick","page","children","className","type","placeholder","id","onChange","onKeyDown","onClick","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","viewBox","d","Array","isArray","map","result","_objectSpread"],"sources":["/Users/pirate/bootcamp/letsgoparty/src/Components/searchbar/searchbar.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Card from \"../cards/Card\";\nimport SearchButtons from \"../searchbuttons/SearchButtons\";\nimport PageNumbers from \"../pagenumbers/PageNumbers\";\nimport fetch from \"node-fetch\";\n\nconst API_BASE_URL = \"\";\n\nconst SearchBar = () => {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [showComponents, setShowComponents] = useState(false);\n  const [filter, setFilter] = useState(\"\");\n  const [pageNumber, setPageNumber] = useState(1);\n\n\n  const search = async (query, filter, pageNumber) => {\n    const url = `${API_BASE_URL}/search?q=${query}&engine=google_events&htichips=${filter}&start=${\n      (pageNumber - 1) * 10\n    }&source=nodejs&output=json&api_key=348e8db09351ac50bd0d138aa02fa794c792d94070d5fc3a628ea00c94025b64`;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization:\n        \"Bearer 348e8db09351ac50bd0d138aa02fa794c792d94070d5fc3a628ea00c94025b64\",\n      Accept: \"application/json\",\n    };\n\n    const response = await fetch(url, { headers });\n    const data = await response.json();\n\n    setResults(data.events_results);\n    setShowComponents(true);\n  };\n\n  const handleInputChange = (event) => {\n    setQuery(event.target.value);\n  };\n\n  const handleKeyDown = (event) => {\n    if (event.key === \"Enter\") {\n      search(query, filter, pageNumber);\n    }\n  };\n\n  const handleButtonClick = (filter) => {\n    setFilter(filter);\n    setPageNumber(1);\n    search(query, filter, 1);\n  };\n\n  const handlePageClick = (page) => {\n    setPageNumber(page);\n    search(query, filter, page);\n  };\n\n  return (\n    <div>\n      <div className=\"flex items-center border-b border-b-2 border-cyan-950 py-2\">\n        <input\n          className=\"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none\"\n          type=\"text\"\n          placeholder=\"Search Events, Clubs, Raves & much more!\"\n          aria-label=\"Search\"\n          id=\"search-button\"\n          value={query}\n          onChange={handleInputChange}\n          onKeyDown={handleKeyDown}\n        />\n        <button\n          className=\"flex-shrink-0 bg-cyan-950 hover:bg-cyan-800 border-cyan-950 hover:border-cyan-800 text-sm border-4 text-white py-1 px-2 rounded-xl focus:outline-none focus:shadow-outline\"\n          type=\"button\"\n          onClick={() => search(query, filter, pageNumber)}\n        >\n          <svg\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"2\"\n            viewBox=\"0 0 24 24\"\n            className=\"w-6 h-6\"\n          >\n            <path d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\n          </svg>\n        </button>\n      </div>\n      {showComponents && (\n        <>\n          <SearchButtons setFilter={handleButtonClick} />\n          <div className=\"flex flex-wrap justify-center\">\n            {Array.isArray(results) &&\n              results.map((result) => <Card key={result.id} {...result} />)}\n          </div>\n          <PageNumbers\n            query={query}\n            setResults={setResults}\n            handlePageClick={handlePageClick}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}